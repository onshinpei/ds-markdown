# ds-markdown

> ğŸš€ React Markdown æ‰“å­—åŠ¨ç”»ç»„ä»¶ï¼Œæä¾›ç°ä»£èŠå¤©ç•Œé¢æ•ˆæœ

<p align="center">
  <img src="./assets/images/favicon.png" alt="ds-markdown logo" width="120" />
</p>

**ğŸ‡¨ğŸ‡³ ä¸­æ–‡ | [ğŸ‡ºğŸ‡¸ English](./README.md)**

ä¸€ä¸ªä¸“ä¸ºç°ä»£ AI åº”ç”¨è®¾è®¡çš„ React ç»„ä»¶ï¼Œæä¾›æµç•…çš„å®æ—¶æ‰“å­—åŠ¨ç”»å’Œå®Œæ•´çš„ Markdown æ¸²æŸ“èƒ½åŠ›ã€‚

[![npm version](https://img.shields.io/npm/v/ds-markdown)](https://www.npmjs.com/package/ds-markdown)
[![npm downloads](https://img.shields.io/npm/dm/ds-markdown.svg)](https://www.npmjs.com/package/ds-markdown)
[![bundle size](https://img.shields.io/bundlephobia/minzip/ds-markdown)](https://bundlephobia.com/package/ds-markdown)
[![React](https://img.shields.io/badge/React-18.0.0+-blue)](https://react.dev)
[![TypeScript](https://img.shields.io/badge/TypeScript-Ready-blue)](https://www.typescriptlang.org/)

## ä¸ºä»€ä¹ˆè¦ç”¨ ds-markdownï¼Ÿ

### **è§£å†³çš„æ ¸å¿ƒé—®é¢˜**

- **æµå¼æ•°æ®æ‰“å­—å¡é¡¿é—®é¢˜**  
  ä¼ ç»Ÿæ‰“å­—æœºç»„ä»¶åœ¨å¤„ç† AI åç«¯æµå¼æ•°æ®æ—¶ï¼Œç”±äºæ¯ä¸ª chunk åŒ…å«å¤šä¸ªå­—ç¬¦ï¼Œä¼šå‡ºç°å¡é¡¿ã€è·³å­—ç­‰é—®é¢˜ã€‚ds-markdown æ™ºèƒ½æ‹†åˆ†æ¯ä¸ª chunkï¼Œç¡®ä¿æ¯ä¸ªå­—ç¬¦éƒ½æµç•…æ‰“å­—ã€‚

- **Markdown æ¸²æŸ“ä¸æ‰“å­—åŠ¨ç”»å‰²è£‚**  
  å¤§å¤šæ•°æ‰“å­—æœºç»„ä»¶åªæ”¯æŒçº¯æ–‡æœ¬ï¼Œæ— æ³•åœ¨æ‰“å­—è¿‡ç¨‹ä¸­å®æ—¶æ¸²æŸ“ Markdown è¯­æ³•ã€æ•°å­¦å…¬å¼ã€å›¾è¡¨ç­‰å¯Œåª’ä½“å†…å®¹ã€‚

### **å¸¦æ¥çš„ä»·å€¼**

- **æå‡ç”¨æˆ·æ²‰æµ¸æ„Ÿ**  
  æä¾›ä¸“ä¸šçº§ AI èŠå¤©ä½“éªŒï¼Œè®©ç”¨æˆ·æ„Ÿå—åˆ°çœŸå®çš„ AI äº¤äº’è¿‡ç¨‹ï¼Œæå¤§æå‡äº§å“ä¸“ä¸šåº¦å’Œç”¨æˆ·æ»¡æ„åº¦ã€‚

- **å¼€ç®±å³ç”¨ï¼Œé™ä½å¼€å‘å¤æ‚åº¦**  
  å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯æ”¯æŒæµå¼æ•°æ®ã€Markdown æ¸²æŸ“ã€æ•°å­¦å…¬å¼ã€å›¾è¡¨ç­‰å¤æ‚åŠŸèƒ½ã€‚

> _å¦‚æœæ‚¨ä¸éœ€è¦ä»»ä½•æ ·å¼ï¼Œè‡ªå·±å¤„ç†æ‰€æœ‰äº§ç‰©çš„æ¸²æŸ“ï¼Œæ¨èæ‚¨ä½¿ç”¨ [react-markdown-typer](https://github.com/onshinpei/react-markdown-typer)_

## æ–‡æ¡£

**ğŸ‘‰ [å®Œæ•´æ–‡æ¡£](https://onshinpei.github.io/ds-markdown/)**

- [å¿«é€Ÿå¼€å§‹](https://onshinpei.github.io/ds-markdown/#get-started)
- [API æ–‡æ¡£](https://onshinpei.github.io/ds-markdown/#docs)
- [åœ¨çº¿ç¤ºä¾‹](https://onshinpei.github.io/ds-markdown/#examples)
- [é©¬ä¸Šè¯•è¯•](https://onshinpei.github.io/ds-markdown/#try)

## Stackblitz ç¤ºä¾‹

- [åŸºæœ¬ç”¨æ³•](https://stackblitz.com/edit/vitejs-vite-ddfw8avb?file=src%2FApp.tsx)
- [æµå¼æ•°æ®ç”¨æ³•](https://stackblitz.com/edit/vitejs-vite-2ri8kex3?file=src%2FApp.tsx)
- [mermaidå›¾è¡¨](https://stackblitz.com/edit/vitejs-vite-iqbyta3j?file=src%2FApp.tsx)
- [æ•°å­¦å…¬å¼demo1](https://stackblitz.com/edit/vitejs-vite-z94syu8j?file=src%2FApp.tsx)
- [æ•°å­¦å…¬å¼demo2](https://stackblitz.com/edit/vitejs-vite-xk9lxagc?file=src%2FApp.tsx)

## æ ¸å¿ƒç‰¹æ€§

- ğŸ¤– **AI å¯¹è¯å°±ç»ª** - ä¸“ä¸šçš„ AI æµå¼å“åº”æ‰“å­—åŠ¨ç”»
- ğŸ“ **å®Œæ•´ Markdown æ”¯æŒ** - ä»£ç é«˜äº®ã€è¡¨æ ¼ã€åˆ—è¡¨ç­‰
- ğŸ”¢ **æ•°å­¦å…¬å¼** - KaTeX æ”¯æŒï¼Œ`$...$` å’Œ `$$...$$` è¯­æ³•
- ğŸ“Š **Mermaid å›¾è¡¨** - æµç¨‹å›¾ã€åºåˆ—å›¾ã€ç”˜ç‰¹å›¾ç­‰
- ğŸ¨ **å¯å®šåˆ¶** - äº®è‰²/æš—è‰²ä¸»é¢˜ï¼Œå¯é…ç½®æ‰“å­—é€Ÿåº¦
- âš¡ **é«˜æ€§èƒ½** - è½»é‡çº§ï¼Œæµç•…åŠ¨ç”»
- ğŸ”Œ **å¯æ‰©å±•** - æ’ä»¶ç³»ç»Ÿï¼Œæ”¯æŒè‡ªå®šä¹‰åŠŸèƒ½
- ğŸ“¦ **TypeScript** - å®Œæ•´ç±»å‹æ”¯æŒ

---

## å®‰è£…

```bash
# npm
npm install ds-markdown

# yarn
yarn add ds-markdown

# pnpm
pnpm add ds-markdown
```

## å¿«é€Ÿå¼€å§‹

```tsx
import DsMarkdown from 'ds-markdown';

function App() {
  return (
    <DsMarkdown interval={20} answerType="answer">
      # Hello ds-markdown è¿™æ˜¯ä¸€ä¸ª**é«˜æ€§èƒ½**çš„æ‰“å­—åŠ¨ç”»ç»„ä»¶ï¼ ## ç‰¹æ€§ - âš¡ é›¶å»¶è¿Ÿæµå¼å¤„ç† - ğŸ¬ æµç•…æ‰“å­—åŠ¨ç”» - ğŸ¯ å®Œç¾è¯­æ³•æ”¯æŒ
    </DsMarkdown>
  );
}
```

### æ‰“å­—å…‰æ ‡ç¤ºä¾‹

```tsx
// æ˜¾ç¤ºé»˜è®¤ç«–çº¿å…‰æ ‡
<DsMarkdown showCursor>
  è¿™é‡Œæ˜¯ä½ çš„ markdown å†…å®¹...
</DsMarkdown>

// ä½¿ç”¨å†…ç½®å…‰æ ‡æ ·å¼
<DsMarkdown showCursor cursor="block">
  ä½ çš„ markdown å†…å®¹...
</DsMarkdown>

<DsMarkdown showCursor cursor="underline">
  ä½ çš„ markdown å†…å®¹...
</DsMarkdown>

<DsMarkdown showCursor cursor="circle">
  ä½ çš„ markdown å†…å®¹...
</DsMarkdown>

// è‡ªå®šä¹‰å…‰æ ‡å…ƒç´ 
<DsMarkdown showCursor cursor={<span style={{ color: 'red' }}>|</span>}>
  ä½ çš„ markdown å†…å®¹...
</DsMarkdown>
```

**å¯ç”¨çš„å…‰æ ‡ç±»å‹ï¼š**
- `line` - ç«–çº¿ï¼ˆé»˜è®¤ï¼‰
- `block` - å®å¿ƒå—
- `underline` - ä¸‹åˆ’çº¿
- `circle` - åœ†ç‚¹
- è‡ªå®šä¹‰ `React.ReactNode` - ä»»ä½•è‡ªå®šä¹‰çš„ React å…ƒç´ 

## æ ¸å¿ƒAPIæ–‡æ¡£

è¯¦ç»†æ–‡æ¡£å¯æŸ¥çœ‹ï¼š[å®Œæ•´æ–‡æ¡£](https://onshinpei.github.io/ds-markdown/#get-started)

### é»˜è®¤å¯¼å‡º DsMarkdown å’Œ MarkdownCMD çš„ props

```js
import DsMarkdown, { MarkdownCMD } from 'ds-markdown';
```

| å±æ€§                | ç±»å‹                                        | è¯´æ˜                                                          | é»˜è®¤å€¼                                                      |
| ------------------- | ------------------------------------------- | ------------------------------------------------------------- | ----------------------------------------------------------- |
| `interval`          | `number` \| `IntervalConfig`                | æ‰“å­—é—´éš”é…ç½®ï¼Œæ”¯æŒå›ºå®šé—´éš”æˆ–åŠ¨æ€é€Ÿåº¦æ§åˆ¶                      | `30`                                                        |
| `timerType`         | `'setTimeout'` \| `'requestAnimationFrame'` | å®šæ—¶å™¨ç±»å‹ï¼Œä¸æ”¯æŒåŠ¨æ€ä¿®æ”¹                                    | å½“å‰é»˜è®¤å€¼æ˜¯`setTimeout`ï¼ŒåæœŸä¼šæ”¹ä¸º`requestAnimationFrame` |
| `answerType`        | `'thinking'` \| `'answer'`                  | å†…å®¹ç±»å‹ (å½±å“æ ·å¼ä¸»é¢˜)ï¼Œä¸æ”¯æŒåŠ¨æ€ä¿®æ”¹                       | `'answer'`                                                  |
| `theme`             | `'light'` \| `'dark'`                       | ä¸»é¢˜ç±»å‹                                                      | `'light'`                                                   |
| `plugins`           | `IMarkdownPlugin[]`                         | æ’ä»¶é…ç½®                                                      | `[]`                                                        |
| `math`              | `IMarkdownMath`                             | æ•°å­¦å…¬å¼é…ç½®                                                  | `{ splitSymbol: 'dollar' }`                                 |
| `showCursor`        | `boolean`                                   | æ‰“å­—åŠ¨ç”»æ—¶æ˜¯å¦æ˜¾ç¤ºå…‰æ ‡                                        | `false`                                                     |
| `cursor`            | `React.ReactNode` \| `'line'` \| `'block'` \| `'underline'` \| `'circle'` | è‡ªå®šä¹‰å…‰æ ‡å…ƒç´ æˆ–å†…ç½®å…‰æ ‡ç±»å‹         | `'line'` (å½“ `showCursor` ä¸º `true` æ—¶)                     |
| `onEnd`             | `(data: EndData) => void`                   | æ‰“å­—ç»“æŸå›è°ƒ                                                  | -                                                           |
| `onStart`           | `(data: StartData) => void`                 | æ‰“å­—å¼€å§‹å›è°ƒ                                                  | -                                                           |
| `onBeforeTypedChar` | `(data: IBeforeTypedChar) => Promise<void>` | å­—ç¬¦æ‰“å­—å‰çš„å›è°ƒï¼Œæ”¯æŒå¼‚æ­¥æ“ä½œï¼Œä¼šé˜»å¡ä¹‹åçš„æ‰“å­—              | -                                                           |
| `onTypedChar`       | `(data: ITypedChar) => void`                | æ¯å­—ç¬¦æ‰“å­—åçš„å›è°ƒ                                            | -                                                           |
| `disableTyping`     | `boolean`                                   | ç¦ç”¨æ‰“å­—åŠ¨ç”»æ•ˆæœ                                              | `false`                                                     |
| `autoStartTyping`   | `boolean`                                   | æ˜¯å¦è‡ªåŠ¨å¼€å§‹æ‰“å­—åŠ¨ç”»ï¼Œè®¾ä¸º false æ—¶éœ€æ‰‹åŠ¨è§¦å‘ï¼Œä¸æ”¯æŒåŠ¨æ€ä¿®æ”¹ | `true`                                                      |
| `codeBlock`         | `IMarkdownCode`                             | ä»£ç å—é…ç½®                                                    | `{headerActions: true}`                                     |

> æ³¨æ„ï¼šæ‰“å­—è¿›è¡Œä¸­å°† `disableTyping` ä» `true` æ”¹ä¸º `false` åªä¼šä»å½“å‰ä½ç½®ç»§ç»­ï¼Œä¸ä¼šå›æ”¾å·²è·³è¿‡çš„åŠ¨ç”»ï¼›è‹¥éœ€ä»å¤´æ’­æ”¾ï¼Œè¯·è°ƒç”¨å®ä¾‹æ–¹æ³• `restart()`ã€‚

è¯¦ç»†æ–‡æ¡£å¯æŸ¥çœ‹ï¼š[å®Œæ•´æ–‡æ¡£](https://onshinpei.github.io/ds-markdown/#get-started)

## ç›¸å…³é¡¹ç›®

- **[react-markdown-typer](https://github.com/onshinpei/react-markdown-typer)** - å¦‚æœä½ éœ€è¦ä¸€ä¸ªè½»é‡çº§çš„ markdown æ‰“å­—ç»„ä»¶
- **[ds-markdown-mermaid-plugin](https://github.com/onshinpei/ds-markdown-mermaid-plugin)** - Mermaid å›¾è¡¨æ”¯æŒæ’ä»¶

## è®¸å¯è¯

MIT Â© [onshinpei](https://github.com/onshinpei)

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ã€æé—®å’ŒåŠŸèƒ½è¯·æ±‚ï¼

[![Visitors](https://api.visitorbadge.io/api/visitors?path=https%3A%2F%2Fgithub.com%2Fonshinpei%2Fds-markdown&label=Visitors&countColor=%23263759&style=flat)](https://visitorbadge.io/status?path=https%3A%2F%2Fgithub.com%2Fonshinpei%2Fds-markdown)
